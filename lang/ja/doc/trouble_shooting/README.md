[TOP](../../README.md)　>　FAQ・注意事項

これまで発生したトラブルや質問事項、実装時における注意事項を纏めましたので必ずご確認ください。

## FAQ

### サポート対象のiOSバージョンはいくつですか？

Objective-Cを用いて開発している場合はiOS 7以上となります。
Swiftを用いて開発している場合はiOS 8以上となります。

### F.O.Xで利用するバンドルバージョンとは？

iOSでは、バンドルバージョンと呼ばれるものには具体的に以下の二つがあります。

* CFBundleVersion
* CFBundleShortVersionString

F.O.Xでは、上記のうちCFBundleShortVersionStringの値を管理の目的で利用します。

### 期待した広告経由のインストール数よりもレポートの数字が低い

インストール計測の`sendConversionWithStartPage:`が起動直後ではない箇所に実装されている場合に、その地点に到達する前に離脱したユーザーは計測漏れが発生します。

`sendConversionWithStartPage:`は、特に理由がない限りは`application:didFinishLaunchingWithOptions:`内に実装してください。それ以外の箇所に実装された場合にはインストール数が正確に計測できない場合があります。

`application:didFinishLaunchingWithOptions:`に実装していない状態でインストール成果型の広告を実施する際には、必ず広告代理店もしくは媒体社の担当にその旨を伝えてください。正確に計測が行えない状態でインストール成果型の広告を実施された際には、計測されたインストール数以上の広告費の支払いを求められる恐れがあります。

### URLスキームの設定がされずリリースされたためブラウザからアプリに遷移ができない

Cookie計測を行うために外部ブラウザを起動した後に、元の画面に戻すためにはURLスキームを利用してアプリケーションに遷移させる必要があります。この際、独自のURLスキームが設定されている必要があり、URLスキームを設定せずにリリースした場合にはこのような遷移を行うことができなくなります。

### URLスキームに大文字が含まれ、正常にアプリに遷移されない

環境によって、URLスキームの大文字小文字が判別されないことにより正常にURLスキームの遷移が行えない場合があります。URLスキームは全て小文字で設定を行ってください。

### URLスキームの設定が他社製アプリと同一でブラウザからそちらのアプリが起動してしまう

iOSにおいて、複数のアプリに同一のURLスキームが設定されていた場合に、どのアプリが起動するかは不定です。確実に特定のアプリを起動することができなくなるため、URLスキームは他社製アプリとはユニークになるようある程度の複雑性のあるものを設定してください。

### 短時間で大量のユーザー獲得を行うプロモーションを実施したら正常に計測がされなかった

iOSには、アプリ起動時に一定時間以上メインスレッドがブロックされるとアプリケーションを強制終了する仕様があります。起動時の初期化処理など、メインスレッド上でサーバーへの同期通信を行わないようにご注意ください。リワード広告などの大量のユーザーを短時間で獲得した結果、サーバーへのアクセスが集中し、通信のレスポンスが非常に悪くなることでアプリケーションの起動に時間がかかり、起動時に強制終了され正常に広告成果が計測できなくなった事例がございます。

以下の手順で、こうした状況をテストすることができますので、以下の設定でアプリケーションが正常に起動するかをご確認ください。

`iOS「設定」→「デベロッパー」→「NETWORK LINK CONDITIONER」``

* 「Enable」をオン
* 「Very Bad Network」をチェック

## 注意事項

### AppAdForce.plistに設定するパラメータのtypeは全てStringを指定してください

NumberやBoolean等、異なるtypeを指定しないようにしてください。

### APP_ID等のアプリ毎に割り当てられたパラメータは必ず指定された値をAppAdForce.plist内に設定してください

異なる値を入れてしまったり、コピー＆ペーストの際にスペースや改行が紛れ込んでしまったりことにより、正常に計測できなくなってしまった事例がございます。

### UIWebViewに独自のUserAgentを設定している場合は、cacheDefaultUserAgentを利用してください

Fingerprinting計測はUIWebViewを使用しており、UserAgentを独自のカスタマイズを行っている場合は、 `cacheDefaultUserAgent`を利用しないと正常に計測することが出来なくなります。

### setInstallTrackingCompletionHandlerはメインスレッドで実行されます

`setInstallTrackingCompletionHandler`内で実行時間のかかる重たい処理を行いますと描画が遅延する可能性がございます。

### Deferred deeplink callbackはデフォルトではバックグラウンドスレッドで実行されます

もし、UIスレッドによる操作を行いたい場合はGrand Central Dispatch(GCD)ライブラリをご利用ください。

### アプリの新規リリース、またはアップデートの際には必ず疎通テストを実施し、正常に計測が取れていることを確認してください

マーケットへの申請までに、SDKを導入した状態で十分にテストを行い、アプリケーションの動作に問題がないことを確認してください。

---
[トップ](../../README.md)
